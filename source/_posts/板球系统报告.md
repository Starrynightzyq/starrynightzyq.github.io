---
title: 板球系统报告
toc: true
date: 2018-12-20 23:09:17
categories: FPGA学习
tags: [FPGA, ZYNQ, 项目, 课程设计]
description: 板球系统，课设二的报告
---

课设二的报告，一边做一边写吧！

<!--more-->

1. # 设计方案工作原理

   1. ## 系统总体介绍

      实现板球系统，在边长为65cm的正方形平板上均匀分布9个外径为3cm的圆形区域，设计一控制系统，通过控制平板的倾斜，使直 径不大于2.5cm的小球能够完成指定的动作： 

      - 平板上9个圆形区域中任意区域停留不少于5秒； 

      - 任意选定两个区域，从一个区域运动到另一个区域，并且在第二个区域停留不小于5秒； 

   2. ## 实现目标定位

      本次课设的主要目标如下：

      - 将前期在Basys3平台上的项目移植到PYNQ-Z2平台上，为系统的进一步拓展提供便利；
      - 优化系统的硬件结构；
      - 在PYNQ-Z2平台上学习并使用一款rtOS（ucOS），作为系统的软件控制部分；
      - 在ucOS上实现串级PID控制；

   3. ## 系统结构工作原理

      1. 系统框图：

         ![系统框图](板球系统报告/image-20181220234156360.png)

         - 通过摄像头获取图像并且定位小球的位置；

         - 根据小球位置与目标位置之间的差值，控制舵机，使平板倾斜，从而让小球运动到目标位置；

      2. 串级PID原理：

         ![image-20181221001133361](板球系统报告/image-20181221001133361-5322293.png)

         - 内环为角度环，对角度进行控制；
         - 外环为位置环，对位置进行控制。

      3. ucOS介绍：

         实时操作系统（RTOS）是指当外界事件或数据产生时，能够接受并以足够快的速度予以处理，其处理的结果又能在规定的时间之内来控制生产过程或对处理系统做出快速响应，调度一切可利用的资源完成实时任务，并控制所有实时任务协调一致运行的操作系统。

         常用的实时操作系统有VxWorks、QNX、ucos-III、Windows CE、FreeRTOS等。

         μcos-III是一个可以基于ROM运行的、可裁剪的、抢占式、实时多任务内核，具有高度可移植性，特别适合于微处理器和控制器，适合很多商业操作系统性能相当的实时操作系统(RTOS)。

         其特点是：公开源代码、可移植性、可固化、可裁剪、多任务、占先式。

         为了便于后期将本项目的控制算法移植到不同的平台上（如TI的TM4单片机），我们基于ucOS操作系统编写算法；

   4. ## 团队分工

      - zyq：
      - zyf：
      - ljc：

2. # 系统硬件设计

3. # 系统软件设计

4. # 作品成效总结

5. # 参考资料及文献

6. # 附件